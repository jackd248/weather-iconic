<template>
  <svg
    :width="size"
    :height="size"
    viewBox="0 0 32 32"
    :fill="multiColor ? 'none' : color"
    :class="combinedClassName"
    :style="combinedStyle"
    :role="title ? 'img' : 'presentation'"
    :aria-hidden="title ? 'false' : 'true'"
    :aria-label="title"
    v-bind="$attrs"
  >
    <title v-if="title">{{ title }}</title>
    <path 
        d="M16.992,21.216C16.992,21.696 16.608,22.112 16.096,22.112L5.248,22.112C4.736,22.112 4.352,21.696 4.352,21.216C4.352,20.704 4.768,20.32 5.248,20.32L16.096,20.32C16.608,20.32 16.992,20.736 16.992,21.216ZM18.816,22.56C19.936,22.56 20.864,23.488 20.864,24.608C20.864,25.76 19.936,26.656 18.816,26.656C18.304,26.656 17.92,26.24 17.92,25.76C17.92,25.28 18.336,24.864 18.816,24.864C18.944,24.864 19.072,24.768 19.072,24.608C19.072,24.512 19.008,24.416 18.912,24.384L7.968,24.384C7.456,24.384 7.072,23.968 7.072,23.488C7.072,23.008 7.488,22.592 7.968,22.592L18.592,22.592C18.656,22.56 18.752,22.56 18.816,22.56Z"
        :fill="multiColor ? (primaryColor || 'currentColor') : color"
      />
    <path 
        d="M27.2,20.416C27.2,19.456 26.816,18.496 26.144,17.792C25.952,17.568 25.696,17.376 25.472,17.184L25.472,16.8C25.472,13.536 22.816,10.88 19.552,10.88L19.52,10.88C17.888,10.88 16.384,11.552 15.296,12.704C14.72,12.064 14.368,11.2 14.368,10.272C14.368,10.144 14.4,10.048 14.4,9.952C14.432,9.664 14.304,9.376 14.08,9.184C13.856,9.024 13.568,8.96 13.28,9.024C10.912,9.696 9.28,11.84 9.28,14.272C9.28,14.752 9.344,15.232 9.472,15.68C8.768,16.64 8.352,17.792 8.352,18.944C8.352,19.424 8.736,19.84 9.248,19.84C9.728,19.84 10.144,19.456 10.176,18.944C10.176,18.496 10.272,18.048 10.432,17.6C11.424,18.88 12.96,19.712 14.72,19.712C17.536,19.712 19.936,17.504 20.128,14.72C20.16,14.432 20.032,14.144 19.808,13.952C19.584,13.792 19.296,13.728 19.008,13.792C18.656,13.888 18.336,13.92 18.016,13.92C17.6,13.92 17.184,13.856 16.8,13.696C17.472,13.088 18.336,12.704 19.264,12.64C19.36,12.672 19.456,12.672 19.552,12.672C21.824,12.672 23.648,14.496 23.68,16.768C23.68,16.992 23.648,17.184 23.616,17.44L23.616,17.632C23.616,17.984 23.776,18.336 24.128,18.464C24.896,18.816 25.376,19.552 25.376,20.384C25.344,21.536 24.416,22.496 23.232,22.496C23.136,22.496 23.008,22.528 22.912,22.56L22.208,22.56C21.728,22.56 21.312,22.976 21.312,23.456C21.312,23.936 21.696,24.352 22.208,24.352L23.232,24.352C24.8,24.352 26.208,23.392 26.816,22.016C27.04,21.536 27.2,20.992 27.2,20.416ZM18.048,15.68C17.504,16.992 16.192,17.888 14.72,17.888C12.704,17.888 11.072,16.256 11.072,14.24C11.072,13.024 11.68,11.904 12.672,11.232C13.152,13.76 15.36,15.712 18.016,15.68L18.048,15.68Z"
        :fill="multiColor ? (secondaryColor || '#666666') : color"
      />
  </svg>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  size?: number | string
  color?: string
  multiColor?: boolean
  primaryColor?: string
  secondaryColor?: string
  className?: string
  style?: Record<string, any>
  title?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: 24,
  color: 'currentColor',
  multiColor: false
})

const combinedClassName = computed(() => {
  const classes = [props.className]
  if (props.multiColor) {
    classes.push('weather-multi-color', 'weather-moon-cloud-wind')
  }
  return classes.filter(Boolean).join(' ')
})

const combinedStyle = computed(() => {
  if (!props.multiColor) return props.style
  
  return {
    ...props.style,
    ...(props.primaryColor && { '--weather-primary-fill': props.primaryColor }),
    ...(props.secondaryColor && { '--weather-secondary-fill': props.secondaryColor })
  }
})
</script>
