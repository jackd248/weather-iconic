<template>
  <svg
    :width="size"
    :height="size"
    viewBox="0 0 32 32"
    :fill="multiColor ? 'none' : color"
    :class="combinedClassName"
    :style="combinedStyle"
    :role="title ? 'img' : 'presentation'"
    :aria-hidden="title ? 'false' : 'true'"
    :aria-label="title"
    v-bind="$attrs"
  >
    <title v-if="title">{{ title }}</title>
    <path 
        d="M18.88,22.4L18.08,22.4L19.584,20.224C19.872,19.808 19.776,19.264 19.36,18.976C18.944,18.688 18.4,18.784 18.112,19.2L15.616,22.784C15.424,23.072 15.392,23.424 15.552,23.712C15.712,24 16.032,24.192 16.352,24.192L17.216,24.192L15.584,26.752C15.328,27.168 15.456,27.744 15.872,28C16.032,28.096 16.192,28.128 16.352,28.128C16.672,28.128 16.96,27.968 17.152,27.744L19.648,23.808C19.84,23.52 19.84,23.168 19.68,22.88C19.52,22.592 19.2,22.4 18.88,22.4Z"
        :fill="multiColor ? (primaryColor || 'currentColor') : color"
      />
    <path 
        d="M24.768,16.864C25.824,17.6 26.496,18.816 26.496,20.096C26.432,22.272 24.672,24.064 22.496,24.064C21.984,24.064 21.6,23.648 21.6,23.168C21.6,22.688 22.016,22.272 22.496,22.272C23.68,22.272 24.64,21.312 24.64,20.128C24.64,19.296 24.16,18.528 23.392,18.176C23.008,18.016 22.816,17.6 22.88,17.216C22.912,16.96 22.944,16.736 22.944,16.512C22.944,14.24 21.088,12.384 18.816,12.384C17.536,12.384 16.352,12.992 15.584,13.952C15.776,14.048 15.936,14.176 16.096,14.272C16.512,14.56 16.608,15.104 16.352,15.52C16.064,15.936 15.52,16.032 15.104,15.776C14.784,15.552 14.336,15.296 13.888,15.136C13.632,15.072 13.312,15.04 13.056,15.04C11.68,15.04 10.496,15.808 9.888,16.928C9.632,17.44 9.472,17.984 9.472,18.592C9.472,18.624 9.44,18.688 9.44,18.72C9.472,20.672 11.104,22.272 13.056,22.272C13.568,22.272 13.952,22.688 13.952,23.168C13.952,23.648 13.536,24.064 13.056,24.064C10.048,24.064 7.616,21.632 7.616,18.624L7.616,18.592C7.616,16.704 8.576,15.04 10.048,14.08C9.728,13.504 9.664,12.96 9.664,12.352C9.664,10.144 11.456,8.352 13.664,8.352C15.296,8.352 16.704,9.312 17.344,10.752C17.824,10.624 18.304,10.56 18.816,10.56C22.08,10.56 24.768,13.216 24.768,16.512L24.768,16.864ZM13.056,13.152C13.344,13.152 13.6,13.184 13.856,13.248C14.336,12.512 14.976,11.904 15.68,11.456C15.328,10.688 14.528,10.144 13.664,10.144C12.448,10.144 11.456,11.136 11.456,12.352C11.456,12.864 11.52,13.088 11.68,13.344C12.128,13.216 12.576,13.152 13.056,13.152ZM13.664,7.264C13.152,7.264 12.768,6.848 12.768,6.368L12.768,5.44C12.768,4.928 13.184,4.544 13.664,4.544C14.144,4.544 14.56,4.96 14.56,5.44L14.56,6.368C14.56,6.88 14.176,7.264 13.664,7.264ZM8.8,8.768L8.16,8.128C7.808,7.776 7.808,7.2 8.16,6.848C8.512,6.496 9.088,6.496 9.44,6.848L10.08,7.488C10.432,7.84 10.432,8.416 10.08,8.768C9.888,8.928 9.664,9.024 9.44,9.024C9.216,9.024 8.992,8.928 8.8,8.768ZM8.576,12.352C8.576,12.832 8.192,13.248 7.68,13.248L6.752,13.248C6.24,13.248 5.856,12.832 5.856,12.352C5.856,11.84 6.272,11.456 6.752,11.456L7.68,11.456C8.192,11.456 8.576,11.872 8.576,12.352ZM17.888,9.024C17.664,9.024 17.44,8.928 17.248,8.768C16.896,8.416 16.896,7.84 17.248,7.488L17.888,6.848C18.24,6.496 18.816,6.496 19.168,6.848C19.52,7.2 19.52,7.776 19.168,8.128L18.528,8.768C18.336,8.928 18.112,9.024 17.888,9.024Z"
        :fill="multiColor ? (secondaryColor || '#666666') : color"
      />
  </svg>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  size?: number | string
  color?: string
  multiColor?: boolean
  primaryColor?: string
  secondaryColor?: string
  className?: string
  style?: Record<string, any>
  title?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: 24,
  color: 'currentColor',
  multiColor: false
})

const combinedClassName = computed(() => {
  const classes = [props.className]
  if (props.multiColor) {
    classes.push('weather-multi-color', 'weather-sun-cloud-lightning')
  }
  return classes.filter(Boolean).join(' ')
})

const combinedStyle = computed(() => {
  if (!props.multiColor) return props.style
  
  return {
    ...props.style,
    ...(props.primaryColor && { '--weather-primary-fill': props.primaryColor }),
    ...(props.secondaryColor && { '--weather-secondary-fill': props.secondaryColor })
  }
})
</script>
