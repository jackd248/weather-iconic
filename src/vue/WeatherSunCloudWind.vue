<template>
  <svg
    :width="size"
    :height="size"
    viewBox="0 0 32 32"
    :fill="multiColor ? 'none' : color"
    :class="combinedClassName"
    :style="combinedStyle"
    :role="title ? 'img' : 'presentation'"
    :aria-hidden="title ? 'false' : 'true'"
    :aria-label="title"
    v-bind="$attrs"
  >
    <title v-if="title">{{ title }}</title>
    <path 
        d="M17.472,18.688C17.472,19.808 16.544,20.736 15.424,20.736L4.544,20.736C4.032,20.736 3.648,20.32 3.648,19.84C3.648,19.36 4.064,18.944 4.544,18.944L15.424,18.944C15.552,18.944 15.68,18.848 15.68,18.688C15.68,18.528 15.584,18.432 15.424,18.432C14.912,18.432 14.528,18.016 14.528,17.536C14.528,17.056 14.944,16.64 15.424,16.64C16.544,16.64 17.472,17.568 17.472,18.688ZM18.144,21.216C19.264,21.216 20.192,22.144 20.192,23.264C20.192,24.384 19.264,25.312 18.144,25.312C17.632,25.312 17.248,24.896 17.248,24.416C17.248,23.936 17.664,23.52 18.144,23.52C18.272,23.52 18.4,23.424 18.4,23.264C18.4,23.104 18.304,23.008 18.144,23.008L7.264,23.008C6.752,23.008 6.368,22.592 6.368,22.112C6.368,21.632 6.784,21.216 7.264,21.216L18.144,21.216Z"
        :fill="multiColor ? (primaryColor || 'currentColor') : color"
      />
    <path 
        d="M24.832,15.904C25.888,16.64 26.56,17.856 26.56,19.168C26.496,21.248 24.736,23.008 22.56,23.008L21.536,23.008C21.024,23.008 20.64,22.592 20.64,22.112C20.64,21.632 21.056,21.216 21.536,21.216L22.56,21.216C23.744,21.216 24.704,20.256 24.704,19.072C24.704,18.24 24.224,17.472 23.456,17.12C23.072,16.96 22.88,16.544 22.944,16.16C22.976,15.904 23.008,15.68 23.008,15.456C23.008,13.184 21.152,11.328 18.88,11.328C17.6,11.328 16.416,11.904 15.648,12.896C15.808,12.992 15.968,13.12 16.128,13.216C16.544,13.504 16.64,14.048 16.384,14.464C16.096,14.88 15.552,14.976 15.136,14.72C14.784,14.496 14.304,14.208 13.824,14.048C13.6,14.016 13.344,13.984 13.12,13.984C11.104,13.984 9.472,15.616 9.472,17.632C9.472,18.144 9.056,18.528 8.576,18.528C8.192,18.528 7.872,18.272 7.744,17.92C7.68,17.792 7.648,17.664 7.648,17.536C7.648,15.584 8.672,13.888 10.208,12.928C9.824,12.288 9.728,11.712 9.728,11.04C9.728,8.832 11.52,7.04 13.728,7.04C15.456,7.04 16.96,8.128 17.504,9.728C17.952,9.632 18.4,9.568 18.88,9.568C22.144,9.568 24.832,12.224 24.832,15.52L24.832,15.904ZM13.088,12.096C13.376,12.096 13.696,12.128 13.952,12.192C14.464,11.456 15.104,10.848 15.84,10.4C15.552,9.472 14.688,8.832 13.728,8.832C12.512,8.832 11.52,9.824 11.52,11.04C11.52,11.552 11.584,11.776 11.776,12.064C11.808,12.096 11.84,12.16 11.872,12.224C12.256,12.16 12.672,12.096 13.088,12.096ZM13.728,5.952C13.216,5.952 12.832,5.536 12.832,5.056L12.832,4.128C12.832,3.616 13.248,3.232 13.728,3.232C14.208,3.232 14.624,3.648 14.624,4.128L14.624,5.056C14.624,5.568 14.208,5.952 13.728,5.952ZM8.864,7.456L8.224,6.816C7.872,6.464 7.872,5.888 8.224,5.536C8.576,5.184 9.152,5.184 9.504,5.536L10.144,6.176C10.496,6.528 10.496,7.104 10.144,7.456C9.952,7.616 9.728,7.712 9.504,7.712C9.28,7.712 9.056,7.616 8.864,7.456ZM6.816,11.936C6.304,11.936 5.92,11.52 5.92,11.04C5.92,10.56 6.336,10.144 6.816,10.144L7.744,10.144C8.256,10.144 8.64,10.56 8.64,11.04C8.64,11.52 8.256,11.936 7.744,11.936L6.816,11.936ZM17.952,7.712C17.728,7.712 17.504,7.616 17.312,7.456C16.96,7.104 16.96,6.528 17.312,6.176L17.952,5.536C18.304,5.184 18.88,5.184 19.232,5.536C19.584,5.888 19.584,6.464 19.232,6.816L18.592,7.456C18.4,7.616 18.176,7.712 17.952,7.712Z"
        :fill="multiColor ? (secondaryColor || '#666666') : color"
      />
  </svg>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  size?: number | string
  color?: string
  multiColor?: boolean
  primaryColor?: string
  secondaryColor?: string
  className?: string
  style?: Record<string, any>
  title?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: 24,
  color: 'currentColor',
  multiColor: false
})

const combinedClassName = computed(() => {
  const classes = [props.className]
  if (props.multiColor) {
    classes.push('weather-multi-color', 'weather-sun-cloud-wind')
  }
  return classes.filter(Boolean).join(' ')
})

const combinedStyle = computed(() => {
  if (!props.multiColor) return props.style
  
  return {
    ...props.style,
    ...(props.primaryColor && { '--weather-primary-fill': props.primaryColor }),
    ...(props.secondaryColor && { '--weather-secondary-fill': props.secondaryColor })
  }
})
</script>
